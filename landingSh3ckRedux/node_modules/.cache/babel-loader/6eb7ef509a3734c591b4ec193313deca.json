{"ast":null,"code":"var _jsxFileName = \"/Users/p3rolix/code/landingSh3ckFE/src/views/homeTest2.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from 'react';\nimport axios from 'axios';\nimport NavBar from '../components/navBar/navBar';\nimport SideBar from '../components/sideBar/sideBar';\nimport LoginSideBar from '../components/loginSideBar/loginSideBar';\nimport MainSideBar from '../components/mainSideBar/mainSideBar';\nimport HeroSection from '../components/heroSection/heroSection';\nimport VideoSection from '../components/videoSection/videoSection';\nimport HiwSection from '../components/hiwSection/hiwSection';\nimport useMobilDetection from '../utils/mobilDetection';\nimport useMobilDetect from '../utils/mobilHook';\nimport NavBarMobil from '../components/navBar/navBarMobil';\nimport ContactSectionTest from '../components/contactSection/contactSectionTest';\nimport FooterSection from '../components/footerSection/footerSection';\nimport NextStepSection from '../components/nextStepSection.js/nextStepSection';\nimport LoadingSpinner from '../utils/loadingSpinner'; // f31c5fee13aef74568ac client id\n// 5029d96a85c6c31586054f0c2d8d3010d8fdae69  client secret\n\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nconst HomeTest2 = () => {\n  _s();\n\n  const [isOpen, setIsOpen] = useState(false);\n  const [loggedIn, setLoggedIn] = useState(false);\n  const [loggedOut, setLoggedOut] = useState(true);\n  const [currentUser, setCurrentUser] = useState('');\n  const [loginSideBarOpen, setLoginSideBarOpen] = useState(false);\n  const [mainSideBarOpen, setMainSideBarOpen] = useState(false);\n  const [loginResponse, setLoginResponse] = useState(null);\n  const [loading, setLoading] = useState(false);\n  const [language, setLanguage] = useState('ES');\n  const [regView, setRegView] = useState(false);\n  const [active, setActive] = useState(null);\n  const [contactSectionOpen, setContactSectionOpen] = useState(false);\n  const [forgotPIN, setForgotPIN] = useState(false); // Google OAuth States *****************************************\n\n  const [loginData, setLoginData] = useState(null);\n  const [isSignedIn, setIsSignedIn] = useState(null);\n  const mobil = useMobilDetect();\n  const mobil2 = useMobilDetection(); // const url_userLogin = \"http://192.168.1.102:5000/api/users/login\"\n\n  const url_userLoginITC = \"https://intense-atoll-00786.herokuapp.com/api/users/login\";\n  useEffect(() => {\n    gettingTokenForLocalSignIn();\n\n    window.onload = function () {\n      window.google.accounts.id.initialize({\n        client_id: \"915460618193-dcl1a1f3en6f3h22evu9jqk2aqdh1lcj.apps.googleusercontent.com\",\n        context: 'signin',\n        //   ux_mode: \"redirect\", \n        callback: handleCredentialResponse\n      });\n    };\n  }, []);\n\n  const gettingTokenForLocalSignIn = () => {\n    const getToken = async () => {\n      const token = localStorage.getItem('SH3CK_TOKEN');\n\n      if (token) {\n        const response = await axios.get('https://intense-atoll-00786.herokuapp.com/api/users/me', {\n          headers: {\n            // 'Content-Type': 'application/json',\n            Authorization: `Bearer ${token}`\n          }\n        });\n        console.log(response.data);\n        setCurrentUser(response.data);\n        return setLoggedIn(true);\n      }\n\n      setLoggedIn(false);\n      setLoggedOut(true);\n    };\n\n    getToken();\n  };\n\n  const handlingSubmitLoginUser = async user => {\n    try {\n      const {\n        data\n      } = await axios.post(url_userLoginITC, user);\n      console.log(data);\n      localStorage.setItem('SH3CK_TOKEN', data.token); // ******************************************\n\n      const response = await axios.get('https://intense-atoll-00786.herokuapp.com/api/users/me', {\n        headers: {\n          // 'Content-Type': 'application/json',\n          Authorization: `Bearer ${data.token}`\n        }\n      });\n      setLoginResponse(response);\n      console.log(response.data);\n      setCurrentUser(response.data);\n      setLoading(false);\n      setLoggedIn(true);\n      setLoggedOut(false);\n      console.log('Usuaurio encontrado y hace login');\n    } catch (error) {\n      console.log(error);\n      setLoginResponse(error.response);\n    }\n  };\n\n  const handlingLogin = user => {\n    setLoading(true);\n    setTimeout(async () => {\n      handlingSubmitLoginUser(user);\n      setLoading(false);\n      setLoginSideBarOpen(!loginSideBarOpen);\n    }, 2000);\n  };\n\n  const handlingSubmitLogOutUser = async () => {\n    if (isSignedIn) {\n      // window.google.accounts.id.disableAutoSelect()\n      // const auth = window.gapi.auth2.getAuthInstance()\n      // await auth.signOut()\n      // setIsSignedIn(false)\n      setMainSideBarOpen(!mainSideBarOpen);\n    }\n\n    if (loggedIn) {\n      console.log('pasando por aqui');\n      localStorage.removeItem('google_token');\n      window.google.accounts.id.disableAutoSelect();\n      setMainSideBarOpen(!mainSideBarOpen);\n      setLoggedIn(false);\n      setLoggedOut(true);\n    }\n  };\n\n  const toggleRegView = () => {\n    // setResponse(null)\n    setRegView(true);\n  };\n\n  const handlingCheckUser = () => {\n    setActive('check');\n    setContactSectionOpen(true);\n    setRegView(false);\n    setForgotPIN(false);\n  };\n\n  const handlingInterestedUser = () => {\n    setActive('interested');\n    setContactSectionOpen(true);\n    setRegView(false);\n  };\n\n  const toggleSideBar = () => {\n    setIsOpen(!isOpen);\n  };\n\n  const toggleLoginSideBar = () => {\n    setLoginSideBarOpen(!loginSideBarOpen);\n  };\n\n  const toggleMainSideBar = () => {\n    setMainSideBarOpen(!mainSideBarOpen);\n  };\n\n  const toggleNotification = () => {\n    setLoginResponse(null);\n  };\n\n  const toggleLanguage = () => {\n    if (language === 'ES') {\n      setLanguage('EN');\n      return;\n    }\n\n    if (language === 'EN') {\n      setLanguage('ES');\n      return;\n    }\n  }; //  ************* Google OAuth Processes and functions (with googleAuth4) ****************\n\n\n  const handleCredentialResponse = async response => {\n    console.log(\"Encoded JWT ID token: \" + response.select_by);\n    response.credential ? setLoggedIn(true) : setLoggedIn(false);\n    const token = response.credential;\n\n    try {\n      console.log('Sending request to BackEnd api...');\n      console.log(token);\n      localStorage.setItem('google_token', token);\n      const res = await axios.post('https://intense-atoll-00786.herokuapp.com/api/extUsers/google', {\n        token,\n        headers: {\n          'Content-Type': 'application/json'\n        }\n      });\n      console.log(res.data);\n\n      if (res.status === 201) {\n        console.log(res.data);\n        setLoginData(res.data);\n        setCurrentUser(res.data.fullName);\n        setLoggedIn(true);\n        setLoggedOut(false);\n        return res.status;\n      } // const res = await axios.post('http://localhost:5000/api/extUsers/google',token)\n\n    } catch (error) {\n      console.log(error);\n      console.log(error.response.data);\n      setCurrentUser(error.response.data.fullName);\n      setLoginData(error.response.data);\n      setLoggedIn(true);\n      setLoggedOut(false);\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [loading ? /*#__PURE__*/_jsxDEV(LoadingSpinner, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 227,\n      columnNumber: 13\n    }, this) : null, /*#__PURE__*/_jsxDEV(LoginSideBar, {\n      loginSideBarOpen: loginSideBarOpen,\n      toggleLoginSideBar: toggleLoginSideBar,\n      loggedIn: loggedIn,\n      loggedOut: loggedOut,\n      handlingLogin: handlingLogin,\n      loading: loading,\n      language: language\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 233,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(MainSideBar, {\n      mainSideBarOpen: mainSideBarOpen,\n      toggleMainSideBar: toggleMainSideBar,\n      loggedIn: loggedIn,\n      loggedOut: loggedOut,\n      handlingSubmitLogOutUser: handlingSubmitLogOutUser,\n      username: currentUser,\n      language: language,\n      loginData: loginData\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 246,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(SideBar, {\n      isOpen: isOpen,\n      toggleSideBar: toggleSideBar,\n      language: language,\n      toggleLanguage: toggleLanguage\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 259,\n      columnNumber: 13\n    }, this), mobil2.screenWidth <= 1098 || mobil ? /*#__PURE__*/_jsxDEV(NavBarMobil, {\n      toggleLoginSideBar: toggleLoginSideBar,\n      toggleMainSideBar: toggleMainSideBar,\n      toggleSideBar: toggleSideBar,\n      username: currentUser,\n      login: loggedIn,\n      language: language\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 267,\n      columnNumber: 17\n    }, this) : /*#__PURE__*/_jsxDEV(NavBar, {\n      toggleLoginSideBar: toggleLoginSideBar,\n      toggleMainSideBar: toggleMainSideBar,\n      username: currentUser,\n      login: loggedIn,\n      language: language\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 275,\n      columnNumber: 18\n    }, this), /*#__PURE__*/_jsxDEV(HeroSection, {\n      language: language\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 284,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(VideoSection, {\n      language: language\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 285,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(HiwSection, {\n      language: language\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 286,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(NextStepSection, {\n      handlingInterestedUser: handlingInterestedUser,\n      handlingCheckUser: handlingCheckUser,\n      language: language\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 287,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(ContactSectionTest, {\n      language: language,\n      loggedIn: loggedIn,\n      isSignedIn: isSignedIn,\n      handlingSubmitLoginUser: handlingSubmitLoginUser,\n      loginResponse: loginResponse,\n      toggleNotificationLogin: toggleNotification,\n      active: active,\n      regView: regView,\n      contactSectionOpen: contactSectionOpen,\n      forgotPIN: forgotPIN,\n      toggleRegView: toggleRegView,\n      settinRegViewAndForgotPINToFalse: settinRegViewAndForgotPINToFalse,\n      toggleForgotPINState: toggleForgotPINState\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 292,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(FooterSection, {\n      language: language\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 316,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true);\n};\n\n_s(HomeTest2, \"PDw2qn69aFn0RiKpH6YenDoiatA=\", false, function () {\n  return [useMobilDetect, useMobilDetection];\n});\n\n_c = HomeTest2;\nexport default HomeTest2;\n\nvar _c;\n\n$RefreshReg$(_c, \"HomeTest2\");","map":{"version":3,"sources":["/Users/p3rolix/code/landingSh3ckFE/src/views/homeTest2.js"],"names":["React","useState","useEffect","axios","NavBar","SideBar","LoginSideBar","MainSideBar","HeroSection","VideoSection","HiwSection","useMobilDetection","useMobilDetect","NavBarMobil","ContactSectionTest","FooterSection","NextStepSection","LoadingSpinner","HomeTest2","isOpen","setIsOpen","loggedIn","setLoggedIn","loggedOut","setLoggedOut","currentUser","setCurrentUser","loginSideBarOpen","setLoginSideBarOpen","mainSideBarOpen","setMainSideBarOpen","loginResponse","setLoginResponse","loading","setLoading","language","setLanguage","regView","setRegView","active","setActive","contactSectionOpen","setContactSectionOpen","forgotPIN","setForgotPIN","loginData","setLoginData","isSignedIn","setIsSignedIn","mobil","mobil2","url_userLoginITC","gettingTokenForLocalSignIn","window","onload","google","accounts","id","initialize","client_id","context","callback","handleCredentialResponse","getToken","token","localStorage","getItem","response","get","headers","Authorization","console","log","data","handlingSubmitLoginUser","user","post","setItem","error","handlingLogin","setTimeout","handlingSubmitLogOutUser","removeItem","disableAutoSelect","toggleRegView","handlingCheckUser","handlingInterestedUser","toggleSideBar","toggleLoginSideBar","toggleMainSideBar","toggleNotification","toggleLanguage","select_by","credential","res","status","fullName","screenWidth","settinRegViewAndForgotPINToFalse","toggleForgotPINState"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react'\nimport axios from 'axios'\nimport NavBar from '../components/navBar/navBar'\nimport SideBar from '../components/sideBar/sideBar'\nimport LoginSideBar from '../components/loginSideBar/loginSideBar'\nimport MainSideBar from '../components/mainSideBar/mainSideBar'\nimport HeroSection from '../components/heroSection/heroSection'\nimport VideoSection from '../components/videoSection/videoSection'\nimport HiwSection from '../components/hiwSection/hiwSection'\nimport useMobilDetection from '../utils/mobilDetection'\nimport useMobilDetect from '../utils/mobilHook'\nimport NavBarMobil from '../components/navBar/navBarMobil'\nimport ContactSectionTest from '../components/contactSection/contactSectionTest'\nimport FooterSection from '../components/footerSection/footerSection'\nimport NextStepSection from '../components/nextStepSection.js/nextStepSection'\nimport LoadingSpinner from '../utils/loadingSpinner'\n\n\n// f31c5fee13aef74568ac client id\n// 5029d96a85c6c31586054f0c2d8d3010d8fdae69  client secret\n\nconst HomeTest2 = () => {\n\n    const [ isOpen, setIsOpen ] = useState(false)\n    const [ loggedIn, setLoggedIn ] = useState(false)\n    const [ loggedOut, setLoggedOut ] = useState(true)\n    const [currentUser, setCurrentUser ] = useState('')\n    const [ loginSideBarOpen, setLoginSideBarOpen ] = useState(false)\n    const [ mainSideBarOpen, setMainSideBarOpen ] = useState(false)\n    const [ loginResponse, setLoginResponse ] = useState(null)\n    const [ loading, setLoading ] = useState(false)\n    const [ language, setLanguage ] = useState('ES')\n    const [ regView, setRegView ] = useState(false)\n    const [ active , setActive ] = useState(null)\n    const [ contactSectionOpen, setContactSectionOpen ] = useState(false)\n    const [ forgotPIN, setForgotPIN ] = useState(false)\n\n\n    // Google OAuth States *****************************************\n  \n    const [ loginData, setLoginData ] = useState(null)\n    const [isSignedIn, setIsSignedIn] = useState(null)\n    \n    const mobil = useMobilDetect()\n    const mobil2 = useMobilDetection()\n    // const url_userLogin = \"http://192.168.1.102:5000/api/users/login\"\n    const url_userLoginITC = \"https://intense-atoll-00786.herokuapp.com/api/users/login\"\n    useEffect(() => {\n        gettingTokenForLocalSignIn()\n        window.onload = function () {\n            window.google.accounts.id.initialize({\n              client_id: \"915460618193-dcl1a1f3en6f3h22evu9jqk2aqdh1lcj.apps.googleusercontent.com\",\n              context: 'signin',\n              //   ux_mode: \"redirect\", \n              callback: handleCredentialResponse,\n            })\n        }\n    },[])\n\n    const gettingTokenForLocalSignIn = () => {\n        const getToken = async() => {\n            const token = localStorage.getItem('SH3CK_TOKEN')\n            if (token){\n                const response = await axios.get('https://intense-atoll-00786.herokuapp.com/api/users/me', {\n                    headers:{\n                        // 'Content-Type': 'application/json',\n                        Authorization: `Bearer ${token}` \n                    } \n                })\n                console.log(response.data)\n                setCurrentUser(response.data)\n                return setLoggedIn(true)\n            }\n            setLoggedIn(false)\n            setLoggedOut(true)\n            \n            \n        }   \n        getToken()\n    }\n\n    \n\n    const handlingSubmitLoginUser = async(user) => {    \n        try {\n            const { data } = await axios.post(url_userLoginITC, user)\n            console.log(data)\n            localStorage.setItem('SH3CK_TOKEN', data.token)\n            // ******************************************\n            const response = await axios.get('https://intense-atoll-00786.herokuapp.com/api/users/me', {\n                headers:{\n                    // 'Content-Type': 'application/json',\n                    Authorization: `Bearer ${data.token}` \n                } \n            })\n            setLoginResponse(response)\n            console.log(response.data)\n            setCurrentUser(response.data)\n            setLoading(false)\n            setLoggedIn(true)\n            setLoggedOut(false)\n            console.log('Usuaurio encontrado y hace login')    \n        } catch (error) {\n            console.log(error)\n            setLoginResponse(error.response)\n        }\n    }\n\n    const handlingLogin = (user) => {\n        setLoading(true)\n        setTimeout(async() => {\n            handlingSubmitLoginUser(user)\n            setLoading(false)\n            setLoginSideBarOpen(!loginSideBarOpen)\n        }, 2000);\n    }\n\n    const handlingSubmitLogOutUser = async() => {\n        if (isSignedIn) {\n            // window.google.accounts.id.disableAutoSelect()\n            // const auth = window.gapi.auth2.getAuthInstance()\n            // await auth.signOut()\n            // setIsSignedIn(false)\n            setMainSideBarOpen(!mainSideBarOpen)\n        }\n        if (loggedIn){\n            console.log('pasando por aqui')\n            localStorage.removeItem('google_token')\n            window.google.accounts.id.disableAutoSelect()\n            setMainSideBarOpen(!mainSideBarOpen)\n            setLoggedIn(false)\n            setLoggedOut(true)\n        }\n        \n        \n    }\n \n    const toggleRegView = () => {\n        // setResponse(null)\n        setRegView(true)\n    }\n\n    const handlingCheckUser = () => {\n        setActive('check')\n        setContactSectionOpen(true)\n        setRegView(false)\n        setForgotPIN(false)\n    }\n    \n    const handlingInterestedUser = () => {\n        setActive('interested')\n        setContactSectionOpen(true)\n        setRegView(false)\n    }\n\n    \n    const toggleSideBar = () => {\n        setIsOpen(!isOpen)\n        \n    } \n    const toggleLoginSideBar = () => {\n        setLoginSideBarOpen(!loginSideBarOpen)\n        \n    }\n    \n    const toggleMainSideBar = () => {\n        setMainSideBarOpen(!mainSideBarOpen)\n    } \n    const toggleNotification = () => {\n        setLoginResponse(null)\n    }\n\n    const toggleLanguage = () => {\n        if (language === 'ES') {\n            setLanguage('EN')\n            return\n        }\n        if (language === 'EN'){\n            setLanguage('ES')\n            return\n        } \n    }\n\n  \n//  ************* Google OAuth Processes and functions (with googleAuth4) ****************\n\n        const handleCredentialResponse = async(response) => {\n            console.log(\"Encoded JWT ID token: \" + response.select_by)\n            response.credential ? setLoggedIn(true) : setLoggedIn(false)\n            const token = response.credential\n        try {\n            console.log('Sending request to BackEnd api...')\n            console.log(token)\n            localStorage.setItem('google_token', token)\n            const res = await axios.post('https://intense-atoll-00786.herokuapp.com/api/extUsers/google', {\n                token,\n                headers:{\n                    'Content-Type': 'application/json',\n                },\n            })\n            console.log(res.data)\n            if (res.status === 201){\n                console.log(res.data)\n                setLoginData(res.data)   \n                setCurrentUser(res.data.fullName)\n                setLoggedIn(true) \n                setLoggedOut(false)\n                return res.status\n            }\n            // const res = await axios.post('http://localhost:5000/api/extUsers/google',token)\n            \n        } catch (error) {\n            console.log(error)\n            console.log(error.response.data)\n            setCurrentUser(error.response.data.fullName)\n            setLoginData(error.response.data)\n            setLoggedIn(true) \n            setLoggedOut(false)\n        }\n        }\n\n\n    \n    return (\n        <>\n            { loading ?\n            <LoadingSpinner/>\n            :\n            null\n            }\n            \n            {/* {!loggedIn && loginSideBarOpen ? */}\n            <LoginSideBar\n            loginSideBarOpen={ loginSideBarOpen } \n            toggleLoginSideBar={ toggleLoginSideBar }\n            loggedIn={loggedIn}\n            loggedOut={loggedOut}\n            handlingLogin={handlingLogin}\n            loading = {loading}\n            language={language}\n            />\n            {/* : null */}\n            {/* } */}\n\n            {/* {!loggedOut && logoutSideBarOpen ? */}\n            <MainSideBar\n            mainSideBarOpen={mainSideBarOpen}\n            toggleMainSideBar={toggleMainSideBar}\n            loggedIn={loggedIn}\n            loggedOut={loggedOut}\n            handlingSubmitLogOutUser={handlingSubmitLogOutUser}\n            username={currentUser}\n            language={language}\n            loginData={loginData}           \n            />\n            {/* : null */}\n            {/* } */}\n            \n            <SideBar \n            isOpen={ isOpen } \n            toggleSideBar={ toggleSideBar }\n            language={language}\n            toggleLanguage={toggleLanguage}\n            />\n            \n            { mobil2.screenWidth <= 1098 || mobil ?  \n                <NavBarMobil \n                toggleLoginSideBar={toggleLoginSideBar}\n                toggleMainSideBar={toggleMainSideBar}\n                toggleSideBar={ toggleSideBar }  \n                username={currentUser}\n                login={ loggedIn }\n                language={language}\n                \n            /> : <NavBar\n            toggleLoginSideBar={toggleLoginSideBar}\n            toggleMainSideBar={toggleMainSideBar} \n            username={currentUser}\n            login={ loggedIn }\n            language={language}\n            \n        />\n            }\n            <HeroSection language={language} />\n            <VideoSection language={language}/>\n            <HiwSection language={language}/>\n            <NextStepSection\n            handlingInterestedUser={handlingInterestedUser}\n            handlingCheckUser={handlingCheckUser} \n            language={language}\n            />\n            <ContactSectionTest \n            language={language}\n            loggedIn={loggedIn}\n            isSignedIn={isSignedIn}\n            handlingSubmitLoginUser={ handlingSubmitLoginUser}\n            loginResponse={loginResponse}\n            toggleNotificationLogin={toggleNotification}\n            active={active}\n            regView={regView}\n            contactSectionOpen={contactSectionOpen}\n                \n            forgotPIN={forgotPIN}\n                \n                \n                \n                \n                \n                \n                \n                toggleRegView={toggleRegView}\n                settinRegViewAndForgotPINToFalse={settinRegViewAndForgotPINToFalse}\n                toggleForgotPINState={toggleForgotPINState}\n            \n            />\n            <FooterSection language={language}/>\n        </>\n    )\n}\n\nexport default HomeTest2\n"]},"metadata":{},"sourceType":"module"}